{"version":3,"file":"reghex-core.js","sources":["../src/core.js"],"sourcesContent":["const isStickySupported = typeof /./g.sticky === 'boolean';\n\nexport const _pattern = (input) => {\n  if (typeof input === 'function') return input;\n\n  const source = typeof input !== 'string' ? input.source : input;\n  return isStickySupported\n    ? new RegExp(source, 'y')\n    : new RegExp(`^(?:${source})`, 'g');\n};\n\nexport const _substr = (state, pattern) => {\n  const end = state.index + pattern.length;\n  const sub = state.input.slice(state.index, end);\n  if (sub === pattern) {\n    state.index = end;\n    return sub;\n  }\n};\n\nexport const _exec = (state, pattern) => {\n  if (typeof pattern === 'function') return pattern();\n\n  let match;\n  if (isStickySupported) {\n    pattern.lastIndex = state.index;\n    match = pattern.exec(state.input);\n    state.index = pattern.lastIndex;\n  } else {\n    pattern.lastIndex = 0;\n    match = pattern.exec(state.input.slice(state.input));\n    state.index += pattern.lastIndex;\n  }\n\n  return match && match[0];\n};\n\nexport const tag = (array, tag) => {\n  array.tag = tag;\n  return array;\n};\n\nexport const parse = (pattern) => (input) => {\n  const state = { input, index: 0 };\n  return pattern(state);\n};\n\nexport const match = (_name) => {\n  throw new TypeError(\n    'This match() function was not transformed. ' +\n      'Ensure that the Babel plugin is set up correctly and try again.'\n  );\n};\n"],"names":["const","isStickySupported","sticky","_pattern","input","source","RegExp","_substr","state","pattern","end","index","length","sub","slice","_exec","let","match","lastIndex","exec","tag","array","parse","_name","TypeError"],"mappings":"AAAAA,IAAMC,iBAAiB,GAAG,OAAO,KAAKC,MAAZ,KAAuB,SAAjDF;IAEaG,QAAQ,aAAIC,OAAU;AACjC,MAAI,OAAOA,KAAP,KAAiB,UAArB;AAAiC,WAAOA,KAAP;AAAa;;AAE9CJ,MAAMK,MAAM,GAAG,OAAOD,KAAP,KAAiB,QAAjB,GAA4BA,KAAK,CAACC,MAAlC,GAA2CD,KAA1DJ;AACA,SAAOC,iBAAiB,GACpB,IAAIK,MAAJ,CAAWD,MAAX,EAAmB,GAAnB,CADoB,GAEpB,IAAIC,MAAJ,UAAkBD,YAAlB,EAA6B,GAA7B,CAFJ;AAGD;IAEYE,OAAO,aAAIC,OAAOC,SAAY;AACzCT,MAAMU,GAAG,GAAGF,KAAK,CAACG,KAAN,GAAcF,OAAO,CAACG,MAAlCZ;AACAA,MAAMa,GAAG,GAAGL,KAAK,CAACJ,KAAN,CAAYU,KAAZ,CAAkBN,KAAK,CAACG,KAAxB,EAA+BD,GAA/B,CAAZV;;AACA,MAAIa,GAAG,KAAKJ,OAAZ,EAAqB;AACnBD,IAAAA,KAAK,CAACG,KAAN,GAAcD,GAAd;AACA,WAAOG,GAAP;AACD;AACF;IAEYE,KAAK,aAAIP,OAAOC,SAAY;AACvC,MAAI,OAAOA,OAAP,KAAmB,UAAvB;AAAmC,WAAOA,OAAO,EAAd;AAAiB;;AAEpDO,MAAIC,KAAJD;;AACA,MAAIf,iBAAJ,EAAuB;AACrBQ,IAAAA,OAAO,CAACS,SAAR,GAAoBV,KAAK,CAACG,KAA1B;AACAM,IAAAA,KAAK,GAAGR,OAAO,CAACU,IAAR,CAAaX,KAAK,CAACJ,KAAnB,CAAR;AACAI,IAAAA,KAAK,CAACG,KAAN,GAAcF,OAAO,CAACS,SAAtB;AACD,GAJD,MAIO;AACLT,IAAAA,OAAO,CAACS,SAAR,GAAoB,CAApB;AACAD,IAAAA,KAAK,GAAGR,OAAO,CAACU,IAAR,CAAaX,KAAK,CAACJ,KAAN,CAAYU,KAAZ,CAAkBN,KAAK,CAACJ,KAAxB,CAAb,CAAR;AACAI,IAAAA,KAAK,CAACG,KAAN,IAAeF,OAAO,CAACS,SAAvB;AACD;;AAED,SAAOD,KAAK,IAAIA,KAAK,CAAC,CAAD,CAArB;AACD;IAEYG,GAAG,aAAIC,OAAOD,KAAQ;AACjCC,EAAAA,KAAK,CAACD,GAAN,GAAYA,GAAZ;AACA,SAAOC,KAAP;AACD;IAEYC,KAAK,aAAIb;mBAAaL,OAAU;AAC3CJ,QAAMQ,KAAK,GAAG;aAAEJ,KAAF;AAASO,MAAAA,KAAK,EAAE;AAAhB,KAAdX;AACA,WAAOS,OAAO,CAACD,KAAD,CAAd;;AACD;IAEYS,KAAK,aAAIM,OAAU;AAC9B,QAAM,IAAIC,SAAJ,CACJ,gDACE,iEAFE,CAAN;AAID;;;;;;;;;"}