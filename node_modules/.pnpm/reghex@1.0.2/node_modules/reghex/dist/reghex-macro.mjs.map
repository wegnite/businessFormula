{"version":3,"file":"reghex-macro.mjs","sources":["../src/babel/macro.js"],"sourcesContent":["import { createMacro } from 'babel-plugin-macros';\nimport { makeHelpers } from './transform';\n\nfunction reghexMacro({ references, babel: { types: t } }) {\n  const helpers = makeHelpers(t);\n  const defaultRefs = references.default || [];\n\n  defaultRefs.forEach((ref) => {\n    if (!t.isCallExpression(ref.parentPath.node)) return;\n    const path = ref.parentPath.parentPath;\n    if (!helpers.isMatch(path)) return;\n\n    const importPath = helpers.getMatchImport(path);\n    if (!importPath) return;\n\n    helpers.updateImport(importPath);\n    helpers.transformMatch(path);\n  });\n\n  return {\n    keepImports: true,\n  };\n}\n\nexport default createMacro(reghexMacro);\n"],"names":["reghexMacro","const","helpers","makeHelpers","t","defaultRefs","references","default","forEach","ref","isCallExpression","parentPath","node","path","isMatch","importPath","getMatchImport","updateImport","transformMatch","keepImports","createMacro"],"mappings":";;;AAGA,SAASA,WAAT,IAAA,EAA0D;;;AACxDC,MAAMC,OAAO,GAAGC,WAAW,CAACC,CAAD,CAA3BH;AACAA,MAAMI,WAAW,GAAGC,UAAU,CAACC,OAAX,IAAsB,EAA1CN;AAEAI,EAAAA,WAAW,CAACG,OAAZ,WAAqBC,KAAQ;AAC3B,QAAI,CAACL,CAAC,CAACM,gBAAF,CAAmBD,GAAG,CAACE,UAAJ,CAAeC,IAAlC,CAAL;AAA8C;AAAO;;AACrDX,QAAMY,IAAI,GAAGJ,GAAG,CAACE,UAAJ,CAAeA,UAA5BV;;AACA,QAAI,CAACC,OAAO,CAACY,OAAR,CAAgBD,IAAhB,CAAL;AAA4B;AAAO;;AAEnCZ,QAAMc,UAAU,GAAGb,OAAO,CAACc,cAAR,CAAuBH,IAAvB,CAAnBZ;;AACA,QAAI,CAACc,UAAL;AAAiB;AAAO;;AAExBb,IAAAA,OAAO,CAACe,YAAR,CAAqBF,UAArB;AACAb,IAAAA,OAAO,CAACgB,cAAR,CAAuBL,IAAvB;AACD,GAVD;AAYA,SAAO;AACLM,IAAAA,WAAW,EAAE;AADR,GAAP;AAGD;;AAED,YAAeC,WAAW,CAACpB,WAAD,CAA1B;;;;"}