{"version":3,"file":"pnpm.js","sources":["../../src/package/pnpm.ts"],"sourcesContent":["import { shellac } from '../utils';\nimport type { GetPackageInfo } from './index';\n\nexport function getPnpmGetPackageInfoFunction() {\n\treturn async (...[name]: Parameters<GetPackageInfo>): ReturnType<GetPackageInfo> => {\n\t\ttry {\n\t\t\tconst listOutput = (await shellac`$ pnpm list --depth=0`).stdout;\n\n\t\t\tconst versionRegex = new RegExp(`^${name}\\\\s+(.*)$`, 'im');\n\n\t\t\tconst match = listOutput.match(versionRegex);\n\t\t\tconst version = match?.[1];\n\n\t\t\tif (!version) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn { name, version };\n\t\t} catch {\n\t\t\tthrow new Error(`An error occurred while gathering the package info of \"${name}\"`);\n\t\t}\n\t};\n}\n"],"names":["getPnpmGetPackageInfoFunction","name","listOutput","shellac","versionRegex","match","version"],"mappings":";;;;;;AAGO,SAASA,IAAgC;AACxC,SAAA,UAAU,CAACC,CAAI,MAA8D;AAC/E,QAAA;AACG,YAAAC,KAAc,MAAMC,0BAAgC,QAEpDC,IAAe,IAAI,OAAO,IAAIH,cAAiB,IAAI,GAEnDI,IAAQH,EAAW,MAAME,CAAY,GACrCE,IAAUD,KAAA,gBAAAA,EAAQ;AAExB,aAAKC,IAIE,EAAE,MAAAL,GAAM,SAAAK,MAHP;AAAA,IAGe,QACtB;AACK,YAAA,IAAI,MAAM,0DAA0DL,IAAO;AAAA,IAClF;AAAA,EAAA;AAEF;"}