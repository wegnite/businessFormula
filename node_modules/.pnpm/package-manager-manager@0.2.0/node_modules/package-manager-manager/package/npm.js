import "node:fs/promises";
import "node:path";
import "node:process";
import "../utils/locks.js";
import { shellac as p } from "../utils/shellac.js";
import "shellac";
function l() {
  return async (...[t]) => {
    var o, r;
    try {
      const i = (await p`$ npm list --depth=0 --json`).stdout, n = JSON.parse(i), e = ((o = n.dependencies) == null ? void 0 : o[t]) ?? ((r = n.devDependencies) == null ? void 0 : r[t]);
      return e ? { name: t, version: e.version } : null;
    } catch {
      throw new Error(`An error occurred while gathering the package info of "${t}"`);
    }
  };
}
export {
  l as getNpmGetPackageInfoFunction
};
//# sourceMappingURL=npm.js.map
