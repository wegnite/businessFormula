{"version":3,"file":"bun.js","sources":["../../src/package/bun.ts"],"sourcesContent":["import { shellac } from '../utils';\nimport type { GetPackageInfo } from './index';\n\nexport function getBunGetPackageInfoFunction() {\n\treturn async (...[name]: Parameters<GetPackageInfo>): ReturnType<GetPackageInfo> => {\n\t\ttry {\n\t\t\tconst pmLsOutput = (await shellac`$ bun pm ls`).stdout;\n\t\t\tconst versionRegex = new RegExp(`^[└─\\\\s]*${name}@(.*)$`, 'im');\n\n\t\t\tconst match = pmLsOutput.match(versionRegex);\n\t\t\tconst version = match?.[1];\n\n\t\t\tif (!version) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn { name, version };\n\t\t} catch {\n\t\t\tthrow new Error(`An error occurred while gathering the package info of \"${name}\"`);\n\t\t}\n\t};\n}\n"],"names":["getBunGetPackageInfoFunction","name","pmLsOutput","shellac","versionRegex","match","version"],"mappings":";;;;;;AAGO,SAASA,IAA+B;AACvC,SAAA,UAAU,CAACC,CAAI,MAA8D;AAC/E,QAAA;AACG,YAAAC,KAAc,MAAMC,gBAAsB,QAC1CC,IAAe,IAAI,OAAO,YAAYH,WAAc,IAAI,GAExDI,IAAQH,EAAW,MAAME,CAAY,GACrCE,IAAUD,KAAA,gBAAAA,EAAQ;AAExB,aAAKC,IAIE,EAAE,MAAAL,GAAM,SAAAK,MAHP;AAAA,IAGe,QACtB;AACK,YAAA,IAAI,MAAM,0DAA0DL,IAAO;AAAA,IAClF;AAAA,EAAA;AAEF;"}