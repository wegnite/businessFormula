{"version":3,"file":"bun.cjs","sources":["../../src/package/bun.ts"],"sourcesContent":["import { shellac } from '../utils';\nimport type { GetPackageInfo } from './index';\n\nexport function getBunGetPackageInfoFunction() {\n\treturn async (...[name]: Parameters<GetPackageInfo>): ReturnType<GetPackageInfo> => {\n\t\ttry {\n\t\t\tconst pmLsOutput = (await shellac`$ bun pm ls`).stdout;\n\t\t\tconst versionRegex = new RegExp(`^[└─\\\\s]*${name}@(.*)$`, 'im');\n\n\t\t\tconst match = pmLsOutput.match(versionRegex);\n\t\t\tconst version = match?.[1];\n\n\t\t\tif (!version) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn { name, version };\n\t\t} catch {\n\t\t\tthrow new Error(`An error occurred while gathering the package info of \"${name}\"`);\n\t\t}\n\t};\n}\n"],"names":["getBunGetPackageInfoFunction","name","pmLsOutput","shellac","versionRegex","match","version"],"mappings":"kPAGO,SAASA,GAA+B,CACvC,MAAA,UAAU,CAACC,CAAI,IAA8D,CAC/E,GAAA,CACG,MAAAC,GAAc,MAAMC,EAAsB,sBAAA,OAC1CC,EAAe,IAAI,OAAO,YAAYH,UAAc,IAAI,EAExDI,EAAQH,EAAW,MAAME,CAAY,EACrCE,EAAUD,GAAA,YAAAA,EAAQ,GAExB,OAAKC,EAIE,CAAE,KAAAL,EAAM,QAAAK,GAHP,IAGe,MACtB,CACK,MAAA,IAAI,MAAM,0DAA0DL,IAAO,CAClF,CAAA,CAEF"}