"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});require("node:fs/promises");require("node:path");require("node:process");require("../utils/locks.cjs");const i=require("../utils/shellac.cjs");require("shellac");function s(c){return async(...[t])=>{try{let r;if(c.metadata.isYarnClassic){const n=(await i.shellac`$ yarn list pattern ${t}`).stdout,o=new RegExp(`^[└─\\s]*${t}@(\\S*)`,"im"),e=n.match(o);r=e==null?void 0:e[1]}else{const n=(await i.shellac`$ yarn why ${t}`).stdout,o=new RegExp(`^[└─\\s]*${t}@(?:\\S+:)?(\\S*)`,"im"),e=n.match(o);r=e==null?void 0:e[1]}return r?{name:t,version:r}:null}catch{throw new Error(`An error occurred while gathering the package info of "${t}"`)}}}exports.getYarnGetPackageInfoFunction=s;
//# sourceMappingURL=yarn.cjs.map
