{"version":3,"file":"pnpm.cjs","sources":["../../src/package/pnpm.ts"],"sourcesContent":["import { shellac } from '../utils';\nimport type { GetPackageInfo } from './index';\n\nexport function getPnpmGetPackageInfoFunction() {\n\treturn async (...[name]: Parameters<GetPackageInfo>): ReturnType<GetPackageInfo> => {\n\t\ttry {\n\t\t\tconst listOutput = (await shellac`$ pnpm list --depth=0`).stdout;\n\n\t\t\tconst versionRegex = new RegExp(`^${name}\\\\s+(.*)$`, 'im');\n\n\t\t\tconst match = listOutput.match(versionRegex);\n\t\t\tconst version = match?.[1];\n\n\t\t\tif (!version) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn { name, version };\n\t\t} catch {\n\t\t\tthrow new Error(`An error occurred while gathering the package info of \"${name}\"`);\n\t\t}\n\t};\n}\n"],"names":["getPnpmGetPackageInfoFunction","name","listOutput","shellac","versionRegex","match","version"],"mappings":"kPAGO,SAASA,GAAgC,CACxC,MAAA,UAAU,CAACC,CAAI,IAA8D,CAC/E,GAAA,CACG,MAAAC,GAAc,MAAMC,EAAgC,gCAAA,OAEpDC,EAAe,IAAI,OAAO,IAAIH,aAAiB,IAAI,EAEnDI,EAAQH,EAAW,MAAME,CAAY,EACrCE,EAAUD,GAAA,YAAAA,EAAQ,GAExB,OAAKC,EAIE,CAAE,KAAAL,EAAM,QAAAK,GAHP,IAGe,MACtB,CACK,MAAA,IAAI,MAAM,0DAA0DL,IAAO,CAClF,CAAA,CAEF"}