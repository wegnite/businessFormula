"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("./commands/getRunScript.cjs"),m=require("./commands/getRunExec.cjs"),d=require("./package/index.cjs");require("node:fs/promises");require("node:path");require("node:process");require("./utils/locks.cjs");const S=require("./utils/cliCommands.cjs"),q=require("./utils/pmDetection.cjs"),y=require("./utils/shellac.cjs");require("./package/bun.cjs");require("shellac");require("./package/npm.cjs");require("./package/pnpm.cjs");require("./package/yarn.cjs");require("./utils/workspace.cjs");async function R(t){const{stdout:r}=await y.shellac`$ ${t} --version`;return r}async function p(){const{packageManagerName:t,filesBasedPackageManager:r}=await q.detectPackageManagerName();if(t){const a=t,n=await R(t),c=n.startsWith("0.")||n.startsWith("1."),u=a==="yarn"&&c,e={name:t,version:n,projectPackageManager:r,metadata:{isYarnClassic:u,isYarnBerry:a==="yarn"&&!c},cliCommandKeywords:new Set,getPackageInfo:async()=>null,getRunScript:async()=>null,getRunScriptStruct:async()=>null,getRunExec:async()=>null,getRunExecStruct:async()=>null};e.cliCommandKeywords=S.getPmCliCommandKeywords(e),e.getPackageInfo=d.getPackageInfoFunction({name:a,version:n,metadata:{isYarnClassic:u}});const{getRunScript:i,getRunScriptStruct:s}=l.getRunScriptFunctions(e),{getRunExec:g,getRunExecStruct:o}=m.getRunExecFunctions(e);return e.getRunScript=i,e.getRunScriptStruct=s,e.getRunExec=g,e.getRunExecStruct=o,e}return null}exports.getPackageManager=p;
//# sourceMappingURL=packageManager.cjs.map
