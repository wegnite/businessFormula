{"version":3,"file":"cliCommands.js","sources":["../../src/utils/cliCommands.ts"],"sourcesContent":["import type { PackageManager, PackageManagerMetadata } from '../packageManager';\n\n// source: https://docs.npmjs.com/cli/v10/commands?v=true\nconst npmCliCommandKeywords = [\n\t'access',\n\t'adduser',\n\t'audit',\n\t'bugs',\n\t'cache',\n\t'ci',\n\t'completion',\n\t'config',\n\t'dedupe',\n\t'deprecate',\n\t'diff',\n\t'dist-tag',\n\t'docs',\n\t'doctor',\n\t'edit',\n\t'exec',\n\t'explain',\n\t'explore',\n\t'find-dupes',\n\t'fund',\n\t'help',\n\t'help-search',\n\t'hook',\n\t'init',\n\t'install',\n\t'install-ci-test',\n\t'install-test',\n\t'link',\n\t'login',\n\t'logout',\n\t'ls',\n\t'org',\n\t'outdated',\n\t'owner',\n\t'pack',\n\t'ping',\n\t'pkg',\n\t'prefix',\n\t'profile',\n\t'prune',\n\t'publish',\n\t'query',\n\t'rebuild',\n\t'repo',\n\t'restart',\n\t'root',\n\t'run',\n\t'run-script',\n\t'search',\n\t'shrinkwrap',\n\t'star',\n\t'stars',\n\t'start',\n\t'stop',\n\t'team',\n\t'test',\n\t'token',\n\t'uninstall',\n\t'unpublish',\n\t'unstar',\n\t'update',\n\t'version',\n\t'view',\n\t'whoami',\n];\n\n// source: https://classic.yarnpkg.com/lang/en/docs/cli/\nconst yarnClassicCliCommandKeywords = [\n\t'add',\n\t'audit',\n\t'autoclean',\n\t'bin',\n\t'cache',\n\t'check',\n\t'config',\n\t'create',\n\t'dedupe',\n\t'generate-lock-entry',\n\t'global',\n\t'help',\n\t'import',\n\t'info',\n\t'init',\n\t'install',\n\t'licenses',\n\t'link',\n\t'list',\n\t'lockfile',\n\t'login',\n\t'logout',\n\t'outdated',\n\t'owner',\n\t'pack',\n\t'policies',\n\t'prune',\n\t'publish',\n\t'remove',\n\t'run',\n\t'self-update',\n\t'tag',\n\t'team',\n\t'test',\n\t'unlink',\n\t'upgrade',\n\t'upgrade-interactive',\n\t'version',\n\t'versions',\n\t'why',\n\t'workspace',\n\t'workspaces',\n];\n\n// source: https://yarnpkg.com/cli\nconst yarnBerryCliCommandKeywords = [\n\t'add',\n\t'bin',\n\t'cache',\n\t'config',\n\t'config',\n\t'dedupe',\n\t'dlx',\n\t'exec',\n\t'explain',\n\t'info',\n\t'init',\n\t'install',\n\t'link',\n\t'node',\n\t'npm',\n\t'pack',\n\t'patch',\n\t'patch-commit',\n\t'rebuild',\n\t'remove',\n\t'run',\n\t'set',\n\t'stage',\n\t'unlink',\n\t'unplug',\n\t'up',\n\t'why',\n];\n\n// source: https://pnpm.io/pnpm-cli\nconst pnpmCliCommandKeywords = [\n\t'add',\n\t'audit',\n\t'bin',\n\t'config',\n\t'create',\n\t'dedupe',\n\t'deploy',\n\t'dlx',\n\t'doctor',\n\t'env',\n\t'exec',\n\t'fetch',\n\t'import',\n\t'init',\n\t'install',\n\t'install-test',\n\t'licenses',\n\t'link',\n\t'list',\n\t'outdated',\n\t'pack',\n\t'patch',\n\t'patch-commit',\n\t'patch-remove',\n\t'prune',\n\t'publish',\n\t'rebuild',\n\t'remove',\n\t'root',\n\t'run',\n\t'server',\n\t'setup',\n\t'start',\n\t'store',\n\t'test',\n\t'unlink',\n\t'update',\n\t'why',\n];\n\n// source: https://bun.sh/docs\nconst bunCliCommandKeywords = ['add', 'install', 'link', 'pm', 'remove', 'run', 'test', 'x'];\n\n/**\n * Gets the set of all CLI command keywords available for the provided package manager\n *\n * Note: only uses the package manager's version to discern between yarn classic and berry, it does\n *       not take versions into consideration for the other package managers, considering the versions\n *       for them would increase the complexity of this solution, so for now let's just discern by package\n *       manager names only, if this turns out not to be sufficient later on we can take versions into\n *       consideration as well\n *\n * @param packageManager package manager to check\n * @returns the set of keywords\n */\nexport function getPmCliCommandKeywords(\n\tpackageManager: Pick<PackageManager, 'name' | 'version'> & {\n\t\tmetadata: Pick<PackageManagerMetadata, 'isYarnClassic'>;\n\t},\n): Readonly<Set<string>> {\n\tlet keywords: string[] = [];\n\n\tif (packageManager.name !== 'yarn') {\n\t\tkeywords = {\n\t\t\tnpm: npmCliCommandKeywords,\n\t\t\tpnpm: pnpmCliCommandKeywords,\n\t\t\tbun: bunCliCommandKeywords,\n\t\t}[packageManager.name];\n\t} else {\n\t\tkeywords = packageManager.metadata.isYarnClassic\n\t\t\t? yarnClassicCliCommandKeywords\n\t\t\t: yarnBerryCliCommandKeywords;\n\t}\n\n\treturn new Set(keywords);\n}\n"],"names":["npmCliCommandKeywords","yarnClassicCliCommandKeywords","yarnBerryCliCommandKeywords","pnpmCliCommandKeywords","bunCliCommandKeywords","getPmCliCommandKeywords","packageManager","keywords"],"mappings":"AAGA,MAAMA,IAAwB;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,GAGMC,IAAgC;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,GAGMC,IAA8B;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,GAGMC,IAAyB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,GAGMC,IAAwB,CAAC,OAAO,WAAW,QAAQ,MAAM,UAAU,OAAO,QAAQ,GAAG;AAcpF,SAASC,EACfC,GAGwB;AACxB,MAAIC,IAAqB,CAAA;AAErB,SAAAD,EAAe,SAAS,SAChBC,IAAA;AAAA,IACV,KAAKP;AAAA,IACL,MAAMG;AAAA,IACN,KAAKC;AAAA,EAAA,EACJE,EAAe,IAAI,IAEVC,IAAAD,EAAe,SAAS,gBAChCL,IACAC,GAGG,IAAI,IAAIK,CAAQ;AACxB;"}