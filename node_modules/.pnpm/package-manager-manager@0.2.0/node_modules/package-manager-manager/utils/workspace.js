import { readdir as e } from "node:fs/promises";
import { resolve as s, join as c } from "node:path";
import { cwd as a } from "node:process";
import { isLockFile as f } from "./locks.js";
async function m(o = a()) {
  const r = await e(o), n = r.includes("package.json"), t = r.some(f);
  if (n && t)
    return {
      path: o,
      files: await e(o)
    };
  const i = s(c(o, ".."));
  return i !== "/" ? m(i) : null;
}
export {
  m as getProjectRootDir
};
//# sourceMappingURL=workspace.js.map
