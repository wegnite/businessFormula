import i from"next/script.js";import e from"react";export*from"@openpanel/web";var a="https://openpanel.dev/op1.js",d=n=>typeof n=="object"&&n!==null&&n!==void 0?`{${Object.entries(n).map(([r,t])=>r==="filter"?`"${r}":${t}`:`"${r}":${JSON.stringify(t)}`).join(",")}}`:JSON.stringify(n);function O({profileId:n,cdnUrl:o,globalProperties:r,...t}){let p=[{name:"init",value:{...t,sdk:"nextjs",sdkVersion:"1.0.7"}}];return n&&p.push({name:"identify",value:{profileId:n}}),r&&p.push({name:"setGlobalProperties",value:r}),e.createElement(e.Fragment,null,e.createElement(i,{src:o??a,async:!0,defer:!0}),e.createElement(i,{dangerouslySetInnerHTML:{__html:`window.op = window.op || function(...args) {(window.op.q = window.op.q || []).push(args)};
          ${p.map(s=>`window.op('${s.name}', ${d(s.value)});`).join(`
`)}`}}))}function k(n){return e.createElement(e.Fragment,null,e.createElement(i,{dangerouslySetInnerHTML:{__html:`window.op('identify', ${JSON.stringify(n)});`}}))}function I(n){return e.createElement(e.Fragment,null,e.createElement(i,{dangerouslySetInnerHTML:{__html:`window.op('setGlobalProperties', ${JSON.stringify(n)});`}}))}function S(){return{track:f,screenView:c,identify:u,increment:w,decrement:m,clear:P,setGlobalProperties:l}}function l(n){window.op?.("setGlobalProperties",n)}function f(n,o){window.op?.("track",n,o)}function c(n,o){window.op?.("screenView",n,o)}function u(n){window.op?.("identify",n)}function w(n){window.op?.("increment",n)}function m(n){window.op("decrement",n)}function P(){window.op?.("clear")}export{k as IdentifyComponent,O as OpenPanelComponent,I as SetGlobalPropertiesComponent,S as useOpenPanel};
